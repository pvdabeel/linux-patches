--- linux-4.14.12-gentoo/drivers/gpu/drm/vmwgfx/vmwgfx_fb.c	2017-11-12 19:46:13.000000000 +0100
+++ linux-4.14.12-gentoo-patched/drivers/gpu/drm/vmwgfx/vmwgfx_fb.c	2018-01-06 16:12:03.278878692 +0100
@@ -714,8 +714,8 @@
 	fb_depth = 24;
 
 	/* XXX As shouldn't these be as well. */
-	fb_width = min(vmw_priv->fb_max_width, (unsigned)2048);
-	fb_height = min(vmw_priv->fb_max_height, (unsigned)2048);
+	fb_width = 2880;//min(vmw_priv->fb_max_width, (unsigned)2048);
+	fb_height = 1800;//min(vmw_priv->fb_max_height, (unsigned)2048);
 
 	fb_pitch = fb_width * fb_bpp / 8;
 	fb_size = fb_pitch * fb_height;
@@ -734,8 +734,8 @@
 	INIT_DELAYED_WORK(&par->local_work, &vmw_fb_dirty_flush);
 	par->vmw_priv = vmw_priv;
 	par->vmalloc = NULL;
-	par->max_width = fb_width;
-	par->max_height = fb_height;
+	par->max_width = 2880;//fb_width;
+	par->max_height = 1800;//fb_height;
 
 	drm_modeset_lock_all(vmw_priv->dev);
 	ret = vmw_kms_fbdev_init_data(vmw_priv, 0, par->max_width,
@@ -746,8 +746,8 @@
 		goto err_kms;
 	}
 
-	info->var.xres = init_mode->hdisplay;
-	info->var.yres = init_mode->vdisplay;
+	info->var.xres = 2880;//init_mode->hdisplay;
+	info->var.yres = 1800;//init_mode->vdisplay;
 	drm_modeset_unlock_all(vmw_priv->dev);
 
 	/*
@@ -791,14 +791,14 @@
 	info->var.transp.offset = 0;
 	info->var.transp.length = 0;
 
-	info->var.xres_virtual = fb_width;
-	info->var.yres_virtual = fb_height;
+	info->var.xres_virtual = 2880;//fb_width;
+	info->var.yres_virtual = 1800;//fb_height;
 	info->var.bits_per_pixel = fb_bpp;
 	info->var.xoffset = 0;
 	info->var.yoffset = 0;
 	info->var.activate = FB_ACTIVATE_NOW;
-	info->var.height = -1;
-	info->var.width = -1;
+	info->var.height = 2880;
+	info->var.width = 1800;
 
 	/* Use default scratch pixmap (info->pixmap.flags = FB_PIXMAP_SYSTEM) */
 	info->apertures = alloc_apertures(1);
